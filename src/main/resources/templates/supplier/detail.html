<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout/main :: layout(~{::section})}">

<section>

    <div class="mb-4">
        <h2 class="mb-1">廠商資料</h2>
        <p class="text-muted mb-0">
            <span th:text="${supplier.supplierId()}"></span>
            <span> – </span>
            <span th:text="${supplier.supplierName()}"></span>
        </p>
    </div>

    <div class="row">
        <!-- 基本資訊 -->
        <div class="col-md-6 mb-3">
            <div class="card border-0 shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">基本資訊</h5>
                    <dl class="row mb-0">
                        <dt class="col-sm-4">廠商編號</dt>
                        <dd class="col-sm-8" th:text="${supplier.supplierId()}"></dd>

                        <dt class="col-sm-4">名稱</dt>
                        <dd class="col-sm-8" th:text="${supplier.supplierName()}"></dd>

                        <dt class="col-sm-4">聯絡人</dt>
                        <dd class="col-sm-8" th:text="${supplier.contactName()}"></dd>

                        <dt class="col-sm-4">電話</dt>
                        <dd class="col-sm-8" th:text="${supplier.phone()}"></dd>

                        <dt class="col-sm-4">Email</dt>
                        <dd class="col-sm-8" th:text="${supplier.email()}"></dd>
                    </dl>
                </div>
            </div>
        </div>

        <!-- 狀態與其他資訊 -->
        <div class="col-md-6 mb-3">
            <div class="card border-0 shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">狀態與其他資訊</h5>
                    <dl class="row mb-0">
                        <dt class="col-sm-4">付款條件</dt>
                        <dd class="col-sm-8" th:text="${supplier.paymentTerm()}"></dd>

                        <dt class="col-sm-4">啟用狀態</dt>
                        <dd class="col-sm-8">
                            <span th:text="${supplier.enabled()} ? '啟用' : '停用'"></span>
                            <div sec:authorize="hasAnyRole('ADMIN', 'MANAGER')" class="mt-3">
                                <form th:action="@{/suppliers/{id}/status(id=${supplier.supplierId()})}" 
                                        method="post" class="d-inline">
                                        
                                    <button type="submit" 
                                            class="btn" 
                                            th:classappend="${supplier.enabled()} ? 'btn-outline-danger' : 'btn-outline-success'"
                                            th:text="${supplier.enabled} ? '停用' : '啟用'">
                                        停用
                                    </button>
                                </form>
                            </div>
                            
                        </dd>

                        <dt class="col-sm-4">備註</dt>
                        <dd class="col-sm-8" th:text="${supplier.note()}"></dd>

                        <dt class="col-sm-4">建立者</dt>
                        <dd class="col-sm-8" th:text="${supplier.createdBy()}"></dd>

                        <dt class="col-sm-4">最後更新者</dt>
                        <dd class="col-sm-8" th:text="${supplier.updatedBy()}"></dd>

                        
                        
                    </dl>

                    <a class="btn btn-outline-primary mt-3" th:href="@{/suppliers/{supplierId}/edit(supplierId=${supplier.supplierId})}"
                        sec:authorize="hasAnyRole('MANAGER')">
                        編輯
                    </a>
                    <a class="btn btn-outline-secondary mt-3" th:href="@{/suppliers}">
                        返回
                    </a>
                </div>
            </div>
        </div>
    </div>

</section>

</html>